# ABOUT REGULAR EXPRESSIONS

Regular expressions can be used in any stringr function in a pattern argument

# Lecture 1
library(rebus)
library(stringr)
# Some strings to practice with
x <- c("cat", "coat", "scotland", "tic toc")
# Print END
END
# Run me
str_view(x, pattern = START %R% "c")
# Match the strings that start with "co" 
str_view(x, pattern = START %R% "co")
# Match the strings that end with "at"
str_view(x, pattern =  "at" %R% END)
# Match the strings that is exactly "cat"
str_view(x, pattern = START %R% "cat" %R%  END)

# Lecture 2
x <- c("cat", "coat", "scotland", "tic toc")
# Match any character followed by a "t"
str_view(x, pattern = ANY_CHAR %R% "t")
# Match a "t" followed by any character
str_view(x, pattern = "t" %R% ANY_CHAR)
# Match two characters
str_view(x, pattern = ANY_CHAR %R% ANY_CHAR)
# Match a string with exactly three characters
str_view(x, pattern = START %R% ANY_CHAR %R% ANY_CHAR %R% ANY_CHAR %R% END)

# Lecture 3
# q followed by any character
pattern <- "q" %R% ANY_CHAR
# Test pattern 
str_view(c("Quentin", "Kaliq", "Jacques",  "Jacqes"), pattern)  
# Find names that have the pattern
names_with_q <- str_subset(boy_names, pattern = pattern)
length(names_with_q)
# Find part of name that matches pattern
part_with_q <- str_extract(boy_names, pattern = pattern)
table(part_with_q) #qa qe qi qm qo qu // 1  1  2  2  1 89
# Did any names have the pattern more than once?
count_of_q <- str_count(boy_names, pattern = pattern)
table(count_of_q)
# Which babies got these names?
with_q <- str_detect(boy_names, pattern = pattern)
# What fraction of babies got these names?
mean(with_q)
